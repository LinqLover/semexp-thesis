% !TEX root = semexp-thesis.tex

% include with relative paths
\usepackage{import}
\newcommand{\thimport}[2][.]{%
	\IfFileExists{#1/#2/../#2}{%
		\subimport{#1/#2}{../#2}%
	}{%
		\input{#1/#2}%
	}
}

% hide draft info
\makeatletter
\AtBeginDocument{
	\sbox{\swa@draftPageLine}{}
}
\makeatother

% patch date format
\usepackage[style=iso]{datetime2}

% declaration of authorship:
% - patch date format manually (datetime2 doesn't work here??)
\makeatletter
\expandafter\patchcmd{\endstatement}{\datedate}{\two@digits{\thedateyear}-\two@digits{\thedatemonth}-\two@digits{\thedateday}}{\typeout{patch 1 successful}}{\typeout{patch 1 failed}}
\makeatother
% - remove article before date
\makeatletter
\expandafter\patchcmd{\endstatement}{\@location, den }{\@location, }{\typeout{patch 2 successful}}{\typeout{patch 2 failed}}
\makeatother


% customize chapter preamble
\setkomafont{dictumtext}{\itshape\small}
\setkomafont{dictumauthor}{\normalfont}
\renewcommand*\dictumwidth{\linewidth}
\renewcommand*\dictumauthorformat[1]{--- #1\par}
\renewcommand*\dictumrule{}


% better asterism
\renewcommand{\asterism}{\smash{%
	\raisebox{-.5ex}{%
		\setlength{\tabcolsep}{.2pt}%
		*}}}


% Semantic markup
\newcommand\bold[1]{\textbf{#1}}
\renewcommand\code[1]{%
	\texttt{#1}}
	%\textsf{#1}} % This looks more like Smalltalk
\newcommand\hardcode[1]{%
	\texttt{#1}}


% enumitem
% add noextralabelsep option (only insert regular space after label)
\makeatletter
\enitkv@key{}{noextralabelsep}[true]{%
	\enit@sepfrommarginfalse
	\enit@calcset\labelsep\tw@{\fontdimen2\font}
}
\makeatother


% Automatic reference labels (\cref)
\usepackage[nameinlink]{cleveref}


% debug patching
%\tracingpatches
