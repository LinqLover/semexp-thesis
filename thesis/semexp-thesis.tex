% Options.
%
% Language
%  en  -  english (default)
%  de  -  german
%
% Modes
%  draft     - drafting mode, esp for todos
%  fulldraft - drafting mode, also for listings/graphics, faster
%  final     - final mode
%
%
% Fonts
%  lmodern   - Latin Modern, like TeX default
%  palatino  - Heavier, slightly more readable (default)
%  garamond  - Lighter than palatino, heavier than latin modern, more readable.
%
% Other
%  print - do not color links
%
\PassOptionsToPackage{disable}{todonotes}
\PassOptionsToPackage{russian}{babel}
\RequirePackage[svgnames,dvipsnames*,x11names]{xcolor} % WORKAROUND for incompatibility of tabularray and colortbl (https://github.com/krono/swathesis/issues/64)
% TODO: adjust options for print (+twoside, -draft, +print)
\documentclass[draft,master]{swathesis}
\KOMAoption{twoside}{off}
\KOMAoption{appendixprefix}{false}
\usepackage[utf8]{inputenx}
\usepackage[backend=biber,backref=true]{biblatex}
\AfterPackage*{biblatex}{\ExecuteBibliographyOptions{
	maxnames=32,
	url=true
}}
\usepackage[linktoc=all]{hyperref}
\addbibresource{thesis.bib}

\input{commands}

\usepackage{uni-titlepage}
\TitlePageStyle[
	subject=master,academicgrade={Master of Science},
]{hpi-swa}

\supervisors{%
	Prof.\,Dr.\,Robert Hirschfeld\and %
	Dr.\,Marcel Taeumel\and %
	Lukas Böhme, M.Sc.%
}

% SUBMISSION DATE
% TODO metadata
% \setdate{2012}{04}{05}
% \date{\datedate}

\author{Christoph Thiede}
\location{Berlin}
% TODO metadata
% hide extratitle in oneside mode
\makeatletter
\if@twoside
\extratitle{\raggedleft Thiede, \\ Augmented Exploratory Programming\par}
\fi
\makeatother
\title{The Semantic Workspace:\texorpdfstring{\\[-4pt]}{} Augmenting Exploratory Programming\texorpdfstring{\\[0pt]}{} with Integrated Generative AI Tools}
%\subtitle{This is Optionally Optional}
\othertitle{Der semantische Workspace:\\[-4pt] Augmentierung explorativer Programmierung\\[0pt] mittels integrierter generativer KI-Werkzeuge}
%\othersubtitle{Ein Untertitel ist optional}
\AtEndPreamble{\hypersetup{
	pdfkeywords	= {exploratory programming, semantic technologies, generative AI, LLMs, semantic search, document embeddings, Squeak, Smalltalk, GPT},
	pdfinfo = {
		mantra	= {Carpe Squeak!},
	},
}}

% add squeak logos to title page
% titlepagenumber: must define outside of ifbool!
\makeatletter
% workaround: use counter because ifnum+def doesn't work...
\newcounter{titlepagenumber}
\setcounter{titlepagenumber}{%
	\if@twoside 3\else 1\fi
}
\newcommand*\titlepagebcor{%
	\if@twoside 1.2cm\else 0cm\fi % approximated! exact values are too deeply hidden in the document class
}
\makeatother
\newbool{enableSqueakDecorations}
\setbool{enableSqueakDecorations}{true} % TODO: disable for submission
\ifbool{enableSqueakDecorations}{%
	%\AddToHook{shipout/background}{%
	\AddToShipoutPictureBG*{% % todo: does not work in twoside mode ... but we won't want it there anyway
		\ifnum\value{abspage}=\value{titlepagenumber} %
			%\AddToShipoutPictureBG*{%
				\put(\dimexpr\paperwidth/2-\titlepagebcor-9cm,\dimexpr\paperheight-8.45cm){%
					\rotatebox{10}{%
						\includegraphics[width=3cm,height=3cm,keepaspectratio]{figures/squeak.pdf}%
					}%
				}%
				\put(\dimexpr\paperwidth/2-\titlepagebcor+5.4cm,\dimexpr\paperheight-8.3cm){%
					\rotatebox{-10}{%
						\includegraphics[width=3cm,height=3cm,keepaspectratio]{figures/smalltalk.pdf}%
					}%
				}%
			%}%
		\fi%
	}
}{}

\begin{document}
\frontmatter

\maketitle
\input{abstract}
\input{acknowledgments}
\cleardoublepage
\input{accessibility}
\cleardoublepage
\tableofcontents
%\listoffigures
%\listoftables
{\sloppy\listoffiguresandtables}
%\lstlistoflistings
%\listofacronyms %
\mainmatter
\thimport[chapters]{01_introduction}
\thimport[chapters]{02_background}
\thimport[chapters]{03_approach}
\thimport[chapters]{04_design}
\thimport[chapters]{05_suggestions}
\thimport[chapters]{06_agent}
\thimport[chapters]{07_implementation}
\thimport[chapters]{08_application}
\thimport[chapters]{09_discussion}
\thimport[chapters]{10_related_work}
\thimport[chapters]{11_conclusion}


%\printbibliography[heading=bibintoc]
\clearpage
\appendix
\input{appendix}
\printbibliography[heading=bibintoc]
\backmatter
\markboth{}\relax

% BAMA-O (2023) §30.6
%  Am Schluss der Arbeit hat die Kandidatin bzw. der Kandidat zu versichern,
%  dass sie bzw. er die Arbeit selbstständig verfasst und keine anderen
%  Quellen und Hilfsmittel als die angegebenen benutzt hat.
% TODO: recheck
%\makeatletter
%\gdef\statementcontent{%
%	Hiermit versichere ich, dass ich die vorliegende Arbeit selbständig verfasst sowie ausschließlich angegebene oder zulässige Quellen und Hilfsmittel benutzt habe.
%}
%\makeatother
% english
\makeatletter
\gdef\swa@statementname{Declaration of Authorship}
\gdef\statementcontent{%
	I hereby certify that I have written this thesis independently and have used only the sources and tools indicated or permitted.
}
\pdfbookmark{Declaration of Authorship}{doa}\defaultstatement

\end{document}
